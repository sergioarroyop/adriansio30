<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mini Frogger</title>
  <style>
    body {
      background: #222;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    #game {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    canvas {
      border: 3px solid #fff;
      background: #111;
    }
  </style>
</head>
<body>
  <h1>üê∏ Mini Frogger</h1>
  <div id="game">
    <canvas id="gameCanvas" width="400" height="400"></canvas>
  </div>
  <p>Usa las flechas ‚¨ÜÔ∏è‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è para mover la rana</p>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const gridSize = 40; // Tama√±o de cada celda
    const rows = canvas.height / gridSize;
    const cols = canvas.width / gridSize;

    // üê∏ Rana
    let frog = {
      x: Math.floor(cols / 2),
      y: rows - 1
    };

    // üöó Coches
    let cars = [];
    for (let row = 1; row < rows - 1; row++) {
      if (row % 2 === 0) {
        cars.push({
          row: row,
          x: Math.random() * cols,
          speed: 0.05 + Math.random() * 0.05,
          dir: 1
        });
      } else {
        cars.push({
          row: row,
          x: Math.random() * cols,
          speed: 0.05 + Math.random() * 0.05,
          dir: -1
        });
      }
    }

    // üéÆ Controles
    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowUp" && frog.y > 0) frog.y--;
      if (e.key === "ArrowDown" && frog.y < rows - 1) frog.y++;
      if (e.key === "ArrowLeft" && frog.x > 0) frog.x--;
      if (e.key === "ArrowRight" && frog.x < cols - 1) frog.x++;
    });

    // üöÄ Bucle del juego
    function update() {
      // Mover coches
      cars.forEach(car => {
        car.x += car.speed * car.dir;
        if (car.dir === 1 && car.x > cols) car.x = -1;
        if (car.dir === -1 && car.x < -1) car.x = cols;
      });

      // Detectar colisiones
      cars.forEach(car => {
        if (Math.floor(car.x) === frog.x && car.row === frog.y) {
          alert("üíÄ ¬°Te atropellaron! Reiniciando...");
          frog.x = Math.floor(cols / 2);
          frog.y = rows - 1;
        }
      });

      // Si llega arriba => gana
      if (frog.y === 0) {
        alert("üéâ ¬°Ganaste!");
        frog.x = Math.floor(cols / 2);
        frog.y = rows - 1;
      }
    }

    // üé® Dibujar
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Rana
      ctx.fillStyle = "lime";
      ctx.fillRect(frog.x * gridSize, frog.y * gridSize, gridSize, gridSize);

      // Coches
      ctx.fillStyle = "red";
      cars.forEach(car => {
        ctx.fillRect(car.x * gridSize, car.row * gridSize, gridSize, gridSize);
      });
    }

    function gameLoop() {
      update();
      draw();
      requestAnimationFrame(gameLoop);
    }

    gameLoop();
  </script>
</body>
</html>
